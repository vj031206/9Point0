{% extends "layout.html" %}
{% block head %}
    <title>CGPA Calculator</title>
{% endblock %}

{% block body %}
<h1 class="container my-4">CGPA Calculator & Simulator</h1>
<div class="container my-4 cgpa-wrapper d-flex align-items-center gap-4">
    <div class="cgpa-left flex-grow-1">
        <form action="/cgpa" method="POST">
            <table class="table" id="cgpa-table">
                <thead>
                    <tr>
                        <th>Semester</th>
                        <th>Total Credits</th>
                        <th>SGPA</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in range(8) %}
                    <tr>
                        <td class="sem-cell">Sem {{ i + 1 }}</td>
                        <td class="credits-cell">
                            <input type="number" name="credits[]" class="form-control" min="1" step="1" value="{{ credits[i] if credits }}">
                        </td>
                        <td class="sgpa-cell">
                            <input type="range"
                                min="0" max="10" step="0.01"
                                value="{{ sgpa_list[i] if sgpa_list else 0 }}"
                                class="form-range sgpa-slider">

                            <input type="number"
                                min="0" max="10" step="0.01" inputmode="decimal"
                                value="{{ sgpa_list[i] if sgpa_list else 0 }}"
                                class="form-control sgpa-input">

                            <input type="hidden"
                                name="sgpa[]"
                                value="{{ sgpa_list[i] if sgpa_list else 0 }}"
                                class="sgpa-hidden">
                        </td>

                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </form>
    </div>

    {% from 'ring.html' import render_ring %}

    <div class="cgpa-right">
        {{ render_ring(cgpa or 0, 10, "cgpa-ring") }}
    </div>


</div>
{% endblock %}