{% extends "layout.html" %}
{% block head %}
    <title>CGPA Calculator</title>
{% endblock %}

{% block body %}
    <div class="container my-4 cgpa-wrapper d-flex align-items-center gap-4">
        <div class="cgpa-left flex-grow-1">
            <form action="/cgpa" method="POST">
                <table class="table" id="cgpa-table">
                    <thead>
                        <tr>
                            <th>Semester</th>
                            <th>Total Credits</th>
                            <th>SGPA</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for i in range(8) %}
                        <tr>
                            <td><strong>Sem {{ i + 1 }}</strong></td>
                            <td>
                                <input type="number" name="credits[]" class="form-control" min="1" step="1" value="{{ credits[i] if credits }}">
                            </td>
                            <td>
                                <input type="number" name="sgpa[]" class="form-control" min="0" max="10" step="0.01" value="{{ sgpa_list[i] if sgpa_list }}">
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <button type="submit" class="btn btn-primary">Calculate</button>
            </form>
        </div>

        {% from 'ring.html' import render_ring %}

    <div class="cgpa-right">
        {% if cgpa is not none %}
            {{ render_ring(cgpa) }}
        {% endif %}
    </div>

    </div>
{% endblock %}